{% extends "base.html" %}

{% block content %}
    <h2>Life Pro Tips</h2>

    {% if user.is_authenticated %}
        <p>Session Authentifi√©e<br></p>
        <span class="greeting">Hello {{ user.username }}!</span>

    {% else %}
        <p>Session Anonyme<br></p>
        <span class="greeting">Hello {{ username }}!</span>


        <script>
            var lastUsernameTime = new Date("{{ request.session.username_time }}");

            function checkTimeAndUpdate() {
                var currentTime = new Date();
                var diff = currentTime - lastUsernameTime; 

                if (diff > 42000) {
                    window.location.reload(true);
                }
            }

            setInterval(checkTimeAndUpdate, 1000);
        </script>
    {% endif %}

    <!-- {% include "tips_snipet.html" %} -->

{% endblock %}
